<!DOCTYPE html>
<html>
<head>
    <title>Ajax</title>
     <meta charset="utf-8"/>
</head>
<body>
  <p id="p1"></p>
  <table id="recipes">
  </table>




    <script src="jquery.min.js"></script>
    <script>
    // to start server http-server . -o
    // Global data for GET request
    var gl_data = [];

    /*<![CDATA[*/
        $(document).ready(function() {
            $.ajax({
                url: "http://127.0.0.1:3000/recipes",
                dataType: "json",
                type: "GET",
                success: function(data) {
                //alert(data['matches'][1]["sourceDisplayName"]);

                    gl_data = data;
                    var listData = "";
                    ProcessRequest(data)
                    for(var key in data) {
                        listData += "<tr><td>" + key + "</td><td>" + data[key] + "</td></tr>";
                    }
                   


                },
                error: function(jqXHR, textStatus, errorThrown) {
                    $("#p1").text(jqXHR.statusText);
                }
            });

  

        });
    /*]]>*/
    
    function ProcessRequest(data){
    var i;
    var table = $('#recipes');
    var len = data['matches'].length;
        for (i = 0; i < len; i++) { 
    var img = data['matches'][i]['smallImageUrls'];


    table.append("<tr><td>" + "Recipe Name: " + data['matches'][i]["recipeName"]);
    table.append("<tr><td>" + "Ingredients: " + data['matches'][i]["ingredients"] + "</td></tr>");
    table.append("<img src='" + img + "'/>" );
    table.append("<tr><td>" + "--------------------------------" + "</td></tr>");
    
}
       

        }
    
    </script>

</body>
</html>
