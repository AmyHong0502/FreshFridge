extends layout-login

block googleLogin
    meta(name='google-signin-scope' content='profile email')
    meta(name="google-signin-client_id" content="725273597701-5g9etsbbnvq2hvjr25llshmcc4vfqav8.apps.googleusercontent.com")
    script(src="https://apis.google.com/js/platform.js" async defer)

block content
    header(class="masthead")
        div(class="intro-body")
            div(class="container")
                div(class="row")
                    div(class="col-lg-10 mx-auto")
                        h2#loginHeader(class="brand-heading") FreshFridge
                        h2 Login
                        div#myDIV(class="header")
                            // login button
                            div(class="g-signin2" data-onsuccess="onSignIn" data-theme="light" data-width="250px" data-height="50px" data-longtitle="true")

                            // login function
                            script.
                                function onSignIn(googleUser) {
                                    // Useful data for your client-side scripts:
                                    let profile = googleUser.getBasicProfile();
                                    // The ID token you need to pass to your backend:
                                    let id_token = googleUser.getAuthResponse().id_token;
                                };

                            // sign-out button
                            div(id="myDiv" class="header")
                                button(onclick="signOut()" class="btn btn-large btn-danger" id="logoutButton") Logout
                            
                            //- a(href="#" onclick="signOut()") Logout-a
                            //- button#signOut(onclick='signOut()') Logout-button

                            // sign-out function
                            script.
                                let signOut = function signOut() {
                                    let auth2 = gapi.auth2.getAuthInstance();
                                    auth2.signOut().then(function () {
                                        console.log('User signed out.');
                                    });
                                }